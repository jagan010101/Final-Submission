{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}


{% block app_content %}
<style>
h2 {text-align: center;}
#modify{
    margin-right: auto;
    margin-left: auto;
    background-color:white;
    font-size: 2vw;
    transition:0.2s;
    border-color:#cccccc;
}
#modify:hover{
    background-color:#072D54;
    color:white;
    opacity: 0.85;
}

#back{
    margin-right: auto;
    margin-left: auto;
    background-color:white;
    font-size: 2vw;
    transition:0.2s;
    border-color:#cccccc;
}

#back:hover{
    background-color:#b01f2e;
    color:white;
    opacity: 0.85;
}
</style>

<form method="post">
<h2>Edit Mealbooking Request</h2><br>
<div class="row">
    <div class="col-md-4 col-md-offset-4">
        {{ wtf.quick_form(form) }}
        <br>
        <div style="display:flex; justify-content:flex-end; width:100%; padding:0;">
        <button type="submit" class="btn btn-light" id="back" name="action" value="back">Back</button>
        <button type="submit" class="btn btn-light" id="modify" name="action" value="modify">Modify</button>
        </div>
    </div>        
</div>
</form>

<script>
    const breakfast = document.getElementById("breakfast");
    const lunch = document.getElementById("lunch");
    const snacks = document.getElementById("snacks");
    const dinner = document.getElementById("dinner");
    const remarks = document.getElementById("remarks");
    const condition = document.getElementById("condition");
    var breakfastAccess = document.getElementById("breakfast_access");
    var lunchAccess = document.getElementById("lunch_access");
    var snacksAccess = document.getElementById("snacks_access");
    var dinnerAccess = document.getElementById("dinner_access");

    if (breakfastAccess.value == condition.value){
        breakfast.disabled = true;
    }

    if (lunchAccess.value == condition.value){
        lunch.disabled = true;
    }

    if (snacksAccess.value == condition.value){
        snacks.disabled = true;
    }

    if (dinnerAccess.value == condition.value){
        dinner.disabled = true;
    }


    modify.disabled = true;

    breakfast.addEventListener("change", (e) =>{
        modify.disabled = false;
        });

    lunch.addEventListener("change", (e) =>{
        modify.disabled = false;
        });

    snacks.addEventListener("change", (e) =>{
        modify.disabled = false;
        });

    dinner.addEventListener("change", (e) =>{
        modify.disabled = false;
        });

    remarks.addEventListener("keyup", (e) =>{
        modify.disabled = false;
        });
</script>

{% endblock %}